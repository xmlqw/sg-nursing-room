<!-- public/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LERSQ2CFVL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LERSQ2CFVL');

</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find a Nursing Room in SG</title>
    <link rel="stylesheet" href="style.css">
    
</head>

<body>

    <h1 id="main-heading">Find Public Nursing Rooms in Singapore</h1>
    
    <div class="navbar">
        <a href="index.html">Home</a>
        <a href="addreview.html">Add your review</a>
        <a href="mailto:lum.xinmun@gmail.com">Contact</a>
      </div>

      <section class="main-content"><p>When searching for a nursing room in a bustling urban setting, the challenge of finding a comfortable and private space shouldn’t hinder a parent’s day. Use this web app to easily locate comfortable private spaces in Singapore for feeding and diaper changes!
        </p></section>

        <div id="searchContainer" class="searchContainer">
            <input type="text" id="searchTerm" placeholder="Search for malls">
            <button id="searchButton" onclick="search()">Search</button>
            <div id="searchResults">

            </div>
          </div>


    <!-- Sample Data -->
    <script>
async function search() {
    // console.log('running search function')
  const searchTerm = document.getElementById('searchTerm').value;
  const response = await fetch(`https://www.singaporenursingroom.com/find-nursing-room?mallSearch=${searchTerm}`);
  const data = await response.json();
// console.log("searchTerm", searchTerm)
// console.log("response", response)
// console.log("data", data)

  // Update UI with search results (replace this with your UI update logic)
  console.log(data);

  // Get the reference to the placeholder div
  var placeholderDiv = document.getElementById("searchResults");

  // Check if the placeholder div exists
  if (!placeholderDiv) {
    console.error("Placeholder div not found!");
    return;
  }

  var html = "<ul style='list-style-type: none;'>"
  data.data.forEach(function (obj) {
    console.log(obj)    
    html += "<li style='font-family: 'Playfair Display', sans-serif; font-size: 18px;'>"+ "Mall: "+ obj.Mall + "<br />"+ "Address: "+ obj.Address +"<br />" + "Location: "+ obj.Location +"<br />" + "Rating: "+ obj.Rating+"<br />" + "Cleanliness: "+ obj.Cleanliness +"<br />" + "Comfort: "+ obj.Comfort +"<br />" + "Privacy: "+ obj.Privacy +"<br />" + "Accessibility: "+ obj.Accessibility +"<br />" + "Amenities: "+ obj.Amenities +"<br />" +"</li>"
    // Add more properties as needed
  });
  html += "</ul>";
  console.log(html)


    // Append the generated HTML to the placeholder div
    placeholderDiv.innerHTML = html;
}

      </script>

    <!-- Script -->
    <iframe src="https://www.google.com/maps/d/embed?mid=1aV_5Ls2NaWKNcT8E0bWbAoIJuXpv_88&ehbc=2E312F" width="100%" height="520" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
    
</body>
</html>